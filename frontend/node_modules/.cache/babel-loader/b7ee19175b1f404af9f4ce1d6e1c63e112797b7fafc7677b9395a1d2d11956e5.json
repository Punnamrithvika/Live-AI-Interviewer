{"ast":null,"code":"var _jsxFileName = \"/Users/pruthanj/d/frontend/src/components/AudioInterviewPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Volume2, Mic, Brain, Send, Clock, Home } from 'lucide-react';\nimport { sendMessage } from '../services/api';\nimport useWebSocket from '../hooks/useWebSocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioInterviewPage = ({\n  sessionId: propSessionId,\n  firstQuestion\n}) => {\n  _s();\n  const {\n    sessionId: paramSessionId\n  } = useParams();\n  const sessionId = propSessionId || paramSessionId;\n  const navigate = useNavigate();\n\n  // State Management\n  const [currentQuestion, setCurrentQuestion] = useState(firstQuestion || '');\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [thinkingTime, setThinkingTime] = useState(20);\n  const [isThinking, setIsThinking] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [questionNumber, setQuestionNumber] = useState(1);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [micStream, setMicStream] = useState(null);\n  const [audioLevel, setAudioLevel] = useState(0);\n\n  // Refs\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerIntervalRef = useRef(null);\n  const utteranceRef = useRef(null);\n  const videoRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const animationFrameRef = useRef(null);\n\n  // WebSocket connection\n  const {\n    isConnected,\n    messages: wsMessages,\n    sendAnswer\n  } = useWebSocket(sessionId);\n\n  // Initialize camera and mic\n  useEffect(() => {\n    const initDevices = async () => {\n      try {\n        const videoStream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: 320,\n            height: 240\n          },\n          audio: false\n        });\n        setCameraStream(videoStream);\n        const audioStream = await navigator.mediaDevices.getUserMedia({\n          audio: {\n            echoCancellation: true,\n            noiseSuppression: true,\n            autoGainControl: true\n          }\n        });\n        setMicStream(audioStream);\n\n        // Setup audio monitoring\n        setupAudioMonitoring(audioStream);\n      } catch (err) {\n        console.error('Error accessing devices:', err);\n      }\n    };\n    initDevices();\n    return () => {\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n      }\n      if (micStream) {\n        micStream.getTracks().forEach(track => track.stop());\n      }\n      if (audioContextRef.current) {\n        audioContextRef.current.close();\n      }\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  // Setup audio level monitoring\n  const setupAudioMonitoring = stream => {\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const analyser = audioContext.createAnalyser();\n    const microphone = audioContext.createMediaStreamSource(stream);\n    analyser.fftSize = 256;\n    microphone.connect(analyser);\n    audioContextRef.current = audioContext;\n    analyserRef.current = analyser;\n    const dataArray = new Uint8Array(analyser.frequencyBinCount);\n    const updateLevel = () => {\n      if (isRecording) {\n        analyser.getByteFrequencyData(dataArray);\n        const average = dataArray.reduce((a, b) => a + b) / dataArray.length;\n        setAudioLevel(Math.min(100, average / 255 * 100));\n      }\n      animationFrameRef.current = requestAnimationFrame(updateLevel);\n    };\n    updateLevel();\n  };\n\n  // Handle WebSocket messages for new questions\n  useEffect(() => {\n    if (wsMessages.length > 0) {\n      const lastMessage = wsMessages[wsMessages.length - 1];\n      if (lastMessage.type === 'question') {\n        const questionData = lastMessage.data;\n        if (questionData && questionData.question) {\n          const newQuestion = questionData.question;\n          setCurrentQuestion(newQuestion);\n          setQuestionNumber(prev => prev + 1);\n\n          // Speak the new question\n          speakQuestion(newQuestion);\n        } else if (questionData === null) {\n          // Interview completed\n          navigate(`/results/${sessionId}`);\n        }\n      }\n    }\n  }, [wsMessages, sessionId, navigate]);\n\n  // STEP 1: Initialize with first question\n  useEffect(() => {\n    if (currentQuestion && questionNumber === 1) {\n      speakQuestion(currentQuestion);\n    }\n  }, [currentQuestion]);\n\n  // STEP 2: Text-to-Speech Function\n  const speakQuestion = text => {\n    if ('speechSynthesis' in window) {\n      // Cancel any ongoing speech\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1.0;\n      utterance.volume = 1.0;\n\n      // Wait for voices to load\n      const setVoice = () => {\n        const voices = window.speechSynthesis.getVoices();\n        const preferredVoice = voices.find(v => v.lang.startsWith('en') && (v.name.includes('Female') || v.name.includes('Samantha'))) || voices[0];\n        if (preferredVoice) {\n          utterance.voice = preferredVoice;\n        }\n      };\n      if (window.speechSynthesis.getVoices().length > 0) {\n        setVoice();\n      } else {\n        window.speechSynthesis.onvoiceschanged = setVoice;\n      }\n      utterance.onstart = () => {\n        setIsSpeaking(true);\n      };\n\n      // STEP 3: When TTS finishes, start thinking timer\n      utterance.onend = () => {\n        setIsSpeaking(false);\n        startThinkingTimer();\n      };\n      utterance.onerror = e => {\n        console.error('Speech error:', e);\n        setIsSpeaking(false);\n        startThinkingTimer();\n      };\n      utteranceRef.current = utterance;\n      window.speechSynthesis.speak(utterance);\n    } else {\n      // Browser doesn't support TTS - skip to thinking\n      console.warn('Speech synthesis not supported');\n      startThinkingTimer();\n    }\n  };\n\n  // STEP 3: 20-Second Thinking Timer\n  const startThinkingTimer = () => {\n    setIsThinking(true);\n    setThinkingTime(20);\n    timerIntervalRef.current = setInterval(() => {\n      setThinkingTime(prev => {\n        if (prev <= 1) {\n          clearInterval(timerIntervalRef.current);\n          // STEP 4: Auto-start recording when timer reaches 0\n          startRecording();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  // STEP 4: Automatically Start Audio Recording\n  const startRecording = () => {\n    setIsThinking(false);\n    setIsRecording(true);\n    setAudioLevel(0);\n    if (!micStream) {\n      console.error('No microphone stream available');\n      return;\n    }\n    audioChunksRef.current = [];\n    try {\n      const mediaRecorder = new MediaRecorder(micStream, {\n        mimeType: 'audio/webm'\n      });\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: 'audio/webm'\n        });\n        await submitAnswer(audioBlob);\n      };\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start(100);\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setIsRecording(false);\n    }\n  };\n\n  // STEP 5: Submit Answer (Stop Recording)\n  const handleSubmitAnswer = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setAudioLevel(0);\n    }\n  };\n\n  // Submit audio to backend (transcribe with Whisper)\n  const submitAnswer = async audioBlob => {\n    try {\n      // For now, use a placeholder text since we need Whisper integration\n      // In production, you'd send the audio to backend for transcription\n\n      // Convert blob to base64 for demonstration\n      const reader = new FileReader();\n      reader.readAsDataURL(audioBlob);\n      reader.onloadend = async () => {\n        const base64Audio = reader.result;\n\n        // TODO: Send to backend for Whisper transcription\n        // For now, send a placeholder\n        const placeholderText = `[Audio answer recorded - ${audioBlob.size} bytes]`;\n        try {\n          if (isConnected) {\n            sendAnswer(placeholderText);\n          } else {\n            await sendMessage(sessionId, placeholderText);\n          }\n        } catch (err) {\n          console.error('Error submitting answer:', err);\n        }\n      };\n    } catch (err) {\n      console.error('Error processing audio:', err);\n    }\n  };\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n      }\n      if (utteranceRef.current) {\n        window.speechSynthesis.cancel();\n      }\n    };\n  }, []);\n\n  // Format timer display\n  const formatTime = seconds => {\n    return `00:${seconds.toString().padStart(2, '0')}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex flex-col bg-stone-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-amber-50 border-b border-amber-200 px-6 py-4 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-slate-800\",\n            children: \"AI Audio Interview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate-600\",\n            children: \"Listen carefully and answer after the timer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-600\",\n              children: \"Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-slate-800\",\n              children: questionNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/'),\n            className: \"px-4 py-2 bg-slate-700 hover:bg-slate-800 text-white rounded-lg flex items-center gap-2 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(Home, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), \"Exit\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex items-center justify-center p-8 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-lg border-2 border-stone-200 p-8 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-4\",\n            children: [isSpeaking && /*#__PURE__*/_jsxDEV(Volume2, {\n              className: \"h-6 w-6 text-blue-600 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-slate-800\",\n              children: [\"Question \", questionNumber]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl text-slate-700 leading-relaxed mb-4\",\n            children: currentQuestion || 'Loading question...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), isSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 text-blue-600 bg-blue-50 px-4 py-2 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(Volume2, {\n              className: \"h-5 w-5 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: \"Reading question aloud...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), isThinking && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-amber-50 border-2 border-amber-300 rounded-xl p-8 mb-8 text-center animate-fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center gap-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Brain, {\n              className: \"h-8 w-8 text-amber-700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-semibold text-amber-900\",\n              children: \"Time to Think\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-7xl font-bold text-amber-700 mb-3 tabular-nums\",\n            children: formatTime(thinkingTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-amber-800 mb-4\",\n            children: \"Prepare your answer. Recording will start automatically.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-4 bg-amber-200 rounded-full overflow-hidden shadow-inner\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full bg-gradient-to-r from-amber-600 to-amber-500 transition-all duration-1000 ease-linear\",\n              style: {\n                width: `${thinkingTime / 20 * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border-2 border-red-300 rounded-xl p-8 text-center animate-fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center gap-3 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-6 w-6 bg-red-600 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 h-6 w-6 bg-red-600 rounded-full animate-ping opacity-75\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-semibold text-red-900\",\n              children: \"Recording Your Answer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-6 bg-red-200 rounded-full overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-100\",\n                style: {\n                  width: `${audioLevel}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-700 mt-1\",\n              children: [\"Audio Level: \", Math.round(audioLevel), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-red-800 mb-6\",\n            children: \"Speak clearly into your microphone. Click \\\"Submit Answer\\\" when you're done.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmitAnswer,\n            className: \"px-8 py-4 bg-slate-700 hover:bg-slate-800 text-white text-lg font-semibold rounded-lg flex items-center gap-3 mx-auto transition-all hover:scale-105 shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(Send, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this), \"Submit Answer\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), !isSpeaking && !isThinking && !isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border-2 border-blue-200 rounded-xl p-8 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"h-12 w-12 text-blue-600 mx-auto mb-4 animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-blue-800\",\n            children: \"Please wait while the question is being read...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 right-6 w-48 h-36 bg-slate-900 rounded-lg overflow-hidden shadow-2xl border-2 border-amber-300\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: el => {\n          if (el && cameraStream) {\n            el.srcObject = cameraStream;\n          }\n        },\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        className: \"w-full h-full object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-2 left-2 px-2 py-1 bg-black/50 rounded text-white text-xs\",\n        children: \"You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n};\n_s(AudioInterviewPage, \"fn0XAADV8miQAnC51gLp3c0e2PE=\", false, function () {\n  return [useParams, useNavigate, useWebSocket];\n});\n_c = AudioInterviewPage;\nexport default AudioInterviewPage;\nvar _c;\n$RefreshReg$(_c, \"AudioInterviewPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","Volume2","Mic","Brain","Send","Clock","Home","sendMessage","useWebSocket","jsxDEV","_jsxDEV","AudioInterviewPage","sessionId","propSessionId","firstQuestion","_s","paramSessionId","navigate","currentQuestion","setCurrentQuestion","isSpeaking","setIsSpeaking","thinkingTime","setThinkingTime","isThinking","setIsThinking","isRecording","setIsRecording","questionNumber","setQuestionNumber","cameraStream","setCameraStream","micStream","setMicStream","audioLevel","setAudioLevel","mediaRecorderRef","audioChunksRef","timerIntervalRef","utteranceRef","videoRef","audioContextRef","analyserRef","animationFrameRef","isConnected","messages","wsMessages","sendAnswer","initDevices","videoStream","navigator","mediaDevices","getUserMedia","video","width","height","audio","audioStream","echoCancellation","noiseSuppression","autoGainControl","setupAudioMonitoring","err","console","error","getTracks","forEach","track","stop","current","close","cancelAnimationFrame","stream","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","microphone","createMediaStreamSource","fftSize","connect","dataArray","Uint8Array","frequencyBinCount","updateLevel","getByteFrequencyData","average","reduce","a","b","length","Math","min","requestAnimationFrame","lastMessage","type","questionData","data","question","newQuestion","prev","speakQuestion","text","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","rate","pitch","volume","setVoice","voices","getVoices","preferredVoice","find","v","lang","startsWith","name","includes","voice","onvoiceschanged","onstart","onend","startThinkingTimer","onerror","e","speak","warn","setInterval","clearInterval","startRecording","mediaRecorder","MediaRecorder","mimeType","ondataavailable","event","size","push","onstop","audioBlob","Blob","submitAnswer","start","handleSubmitAnswer","reader","FileReader","readAsDataURL","onloadend","base64Audio","result","placeholderText","formatTime","seconds","toString","padStart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","round","ref","el","srcObject","autoPlay","playsInline","muted","_c","$RefreshReg$"],"sources":["/Users/pruthanj/d/frontend/src/components/AudioInterviewPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Volume2, Mic, Brain, Send, Clock, Home } from 'lucide-react';\nimport { sendMessage } from '../services/api';\nimport useWebSocket from '../hooks/useWebSocket';\n\nconst AudioInterviewPage = ({ sessionId: propSessionId, firstQuestion }) => {\n  const { sessionId: paramSessionId } = useParams();\n  const sessionId = propSessionId || paramSessionId;\n  const navigate = useNavigate();\n  \n  // State Management\n  const [currentQuestion, setCurrentQuestion] = useState(firstQuestion || '');\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [thinkingTime, setThinkingTime] = useState(20);\n  const [isThinking, setIsThinking] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [questionNumber, setQuestionNumber] = useState(1);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [micStream, setMicStream] = useState(null);\n  const [audioLevel, setAudioLevel] = useState(0);\n  \n  // Refs\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerIntervalRef = useRef(null);\n  const utteranceRef = useRef(null);\n  const videoRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const animationFrameRef = useRef(null);\n  \n  // WebSocket connection\n  const { isConnected, messages: wsMessages, sendAnswer } = useWebSocket(sessionId);\n\n  // Initialize camera and mic\n  useEffect(() => {\n    const initDevices = async () => {\n      try {\n        const videoStream = await navigator.mediaDevices.getUserMedia({\n          video: { width: 320, height: 240 },\n          audio: false\n        });\n        setCameraStream(videoStream);\n\n        const audioStream = await navigator.mediaDevices.getUserMedia({\n          audio: {\n            echoCancellation: true,\n            noiseSuppression: true,\n            autoGainControl: true\n          }\n        });\n        setMicStream(audioStream);\n        \n        // Setup audio monitoring\n        setupAudioMonitoring(audioStream);\n      } catch (err) {\n        console.error('Error accessing devices:', err);\n      }\n    };\n\n    initDevices();\n\n    return () => {\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n      }\n      if (micStream) {\n        micStream.getTracks().forEach(track => track.stop());\n      }\n      if (audioContextRef.current) {\n        audioContextRef.current.close();\n      }\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  // Setup audio level monitoring\n  const setupAudioMonitoring = (stream) => {\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const analyser = audioContext.createAnalyser();\n    const microphone = audioContext.createMediaStreamSource(stream);\n    \n    analyser.fftSize = 256;\n    microphone.connect(analyser);\n    \n    audioContextRef.current = audioContext;\n    analyserRef.current = analyser;\n    \n    const dataArray = new Uint8Array(analyser.frequencyBinCount);\n    const updateLevel = () => {\n      if (isRecording) {\n        analyser.getByteFrequencyData(dataArray);\n        const average = dataArray.reduce((a, b) => a + b) / dataArray.length;\n        setAudioLevel(Math.min(100, (average / 255) * 100));\n      }\n      animationFrameRef.current = requestAnimationFrame(updateLevel);\n    };\n    updateLevel();\n  };\n\n  // Handle WebSocket messages for new questions\n  useEffect(() => {\n    if (wsMessages.length > 0) {\n      const lastMessage = wsMessages[wsMessages.length - 1];\n      \n      if (lastMessage.type === 'question') {\n        const questionData = lastMessage.data;\n        if (questionData && questionData.question) {\n          const newQuestion = questionData.question;\n          setCurrentQuestion(newQuestion);\n          setQuestionNumber(prev => prev + 1);\n          \n          // Speak the new question\n          speakQuestion(newQuestion);\n        } else if (questionData === null) {\n          // Interview completed\n          navigate(`/results/${sessionId}`);\n        }\n      }\n    }\n  }, [wsMessages, sessionId, navigate]);\n\n  // STEP 1: Initialize with first question\n  useEffect(() => {\n    if (currentQuestion && questionNumber === 1) {\n      speakQuestion(currentQuestion);\n    }\n  }, [currentQuestion]);\n\n  // STEP 2: Text-to-Speech Function\n  const speakQuestion = (text) => {\n    if ('speechSynthesis' in window) {\n      // Cancel any ongoing speech\n      window.speechSynthesis.cancel();\n      \n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1.0;\n      utterance.volume = 1.0;\n      \n      // Wait for voices to load\n      const setVoice = () => {\n        const voices = window.speechSynthesis.getVoices();\n        const preferredVoice = voices.find(v => \n          v.lang.startsWith('en') && (v.name.includes('Female') || v.name.includes('Samantha'))\n        ) || voices[0];\n        if (preferredVoice) {\n          utterance.voice = preferredVoice;\n        }\n      };\n\n      if (window.speechSynthesis.getVoices().length > 0) {\n        setVoice();\n      } else {\n        window.speechSynthesis.onvoiceschanged = setVoice;\n      }\n      \n      utterance.onstart = () => {\n        setIsSpeaking(true);\n      };\n      \n      // STEP 3: When TTS finishes, start thinking timer\n      utterance.onend = () => {\n        setIsSpeaking(false);\n        startThinkingTimer();\n      };\n      \n      utterance.onerror = (e) => {\n        console.error('Speech error:', e);\n        setIsSpeaking(false);\n        startThinkingTimer();\n      };\n      \n      utteranceRef.current = utterance;\n      window.speechSynthesis.speak(utterance);\n    } else {\n      // Browser doesn't support TTS - skip to thinking\n      console.warn('Speech synthesis not supported');\n      startThinkingTimer();\n    }\n  };\n\n  // STEP 3: 20-Second Thinking Timer\n  const startThinkingTimer = () => {\n    setIsThinking(true);\n    setThinkingTime(20);\n    \n    timerIntervalRef.current = setInterval(() => {\n      setThinkingTime((prev) => {\n        if (prev <= 1) {\n          clearInterval(timerIntervalRef.current);\n          // STEP 4: Auto-start recording when timer reaches 0\n          startRecording();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  // STEP 4: Automatically Start Audio Recording\n  const startRecording = () => {\n    setIsThinking(false);\n    setIsRecording(true);\n    setAudioLevel(0);\n    \n    if (!micStream) {\n      console.error('No microphone stream available');\n      return;\n    }\n    \n    audioChunksRef.current = [];\n    \n    try {\n      const mediaRecorder = new MediaRecorder(micStream, {\n        mimeType: 'audio/webm'\n      });\n      \n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      \n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        await submitAnswer(audioBlob);\n      };\n      \n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start(100);\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setIsRecording(false);\n    }\n  };\n\n  // STEP 5: Submit Answer (Stop Recording)\n  const handleSubmitAnswer = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setAudioLevel(0);\n    }\n  };\n\n  // Submit audio to backend (transcribe with Whisper)\n  const submitAnswer = async (audioBlob) => {\n    try {\n      // For now, use a placeholder text since we need Whisper integration\n      // In production, you'd send the audio to backend for transcription\n      \n      // Convert blob to base64 for demonstration\n      const reader = new FileReader();\n      reader.readAsDataURL(audioBlob);\n      reader.onloadend = async () => {\n        const base64Audio = reader.result;\n        \n        // TODO: Send to backend for Whisper transcription\n        // For now, send a placeholder\n        const placeholderText = `[Audio answer recorded - ${audioBlob.size} bytes]`;\n        \n        try {\n          if (isConnected) {\n            sendAnswer(placeholderText);\n          } else {\n            await sendMessage(sessionId, placeholderText);\n          }\n        } catch (err) {\n          console.error('Error submitting answer:', err);\n        }\n      };\n    } catch (err) {\n      console.error('Error processing audio:', err);\n    }\n  };\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n      }\n      if (utteranceRef.current) {\n        window.speechSynthesis.cancel();\n      }\n    };\n  }, []);\n\n  // Format timer display\n  const formatTime = (seconds) => {\n    return `00:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-stone-50\">\n      {/* Header */}\n      <div className=\"bg-amber-50 border-b border-amber-200 px-6 py-4 shadow-sm\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-slate-800\">\n              AI Audio Interview\n            </h1>\n            <p className=\"text-sm text-slate-600\">\n              Listen carefully and answer after the timer\n            </p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-right\">\n              <p className=\"text-xs text-slate-600\">Question</p>\n              <p className=\"text-lg font-bold text-slate-800\">{questionNumber}</p>\n            </div>\n            <button\n              onClick={() => navigate('/')}\n              className=\"px-4 py-2 bg-slate-700 hover:bg-slate-800 text-white rounded-lg flex items-center gap-2 transition-colors\"\n            >\n              <Home className=\"h-4 w-4\" />\n              Exit\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex items-center justify-center p-8 overflow-y-auto\">\n        <div className=\"max-w-4xl w-full\">\n          \n          {/* Question Display */}\n          <div className=\"bg-white rounded-xl shadow-lg border-2 border-stone-200 p-8 mb-8\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              {isSpeaking && (\n                <Volume2 className=\"h-6 w-6 text-blue-600 animate-pulse\" />\n              )}\n              <h2 className=\"text-2xl font-bold text-slate-800\">\n                Question {questionNumber}\n              </h2>\n            </div>\n            \n            <p className=\"text-xl text-slate-700 leading-relaxed mb-4\">\n              {currentQuestion || 'Loading question...'}\n            </p>\n            \n            {isSpeaking && (\n              <div className=\"flex items-center gap-2 text-blue-600 bg-blue-50 px-4 py-2 rounded-lg\">\n                <Volume2 className=\"h-5 w-5 animate-pulse\" />\n                <span className=\"text-sm font-medium\">Reading question aloud...</span>\n              </div>\n            )}\n          </div>\n\n          {/* Thinking Timer */}\n          {isThinking && (\n            <div className=\"bg-amber-50 border-2 border-amber-300 rounded-xl p-8 mb-8 text-center animate-fade-in\">\n              <div className=\"flex items-center justify-center gap-3 mb-4\">\n                <Brain className=\"h-8 w-8 text-amber-700\" />\n                <h3 className=\"text-2xl font-semibold text-amber-900\">\n                  Time to Think\n                </h3>\n              </div>\n              \n              <div className=\"text-7xl font-bold text-amber-700 mb-3 tabular-nums\">\n                {formatTime(thinkingTime)}\n              </div>\n              \n              <p className=\"text-lg text-amber-800 mb-4\">\n                Prepare your answer. Recording will start automatically.\n              </p>\n              \n              {/* Visual countdown progress */}\n              <div className=\"w-full h-4 bg-amber-200 rounded-full overflow-hidden shadow-inner\">\n                <div\n                  className=\"h-full bg-gradient-to-r from-amber-600 to-amber-500 transition-all duration-1000 ease-linear\"\n                  style={{ width: `${(thinkingTime / 20) * 100}%` }}\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Recording Indicator */}\n          {isRecording && (\n            <div className=\"bg-red-50 border-2 border-red-300 rounded-xl p-8 text-center animate-fade-in\">\n              <div className=\"flex items-center justify-center gap-3 mb-6\">\n                <div className=\"relative\">\n                  <div className=\"h-6 w-6 bg-red-600 rounded-full animate-pulse\" />\n                  <div className=\"absolute inset-0 h-6 w-6 bg-red-600 rounded-full animate-ping opacity-75\" />\n                </div>\n                <h3 className=\"text-2xl font-semibold text-red-900\">\n                  Recording Your Answer\n                </h3>\n              </div>\n              \n              {/* Audio Level Indicator */}\n              <div className=\"mb-6\">\n                <div className=\"w-full h-6 bg-red-200 rounded-full overflow-hidden\">\n                  <div\n                    className=\"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-100\"\n                    style={{ width: `${audioLevel}%` }}\n                  />\n                </div>\n                <p className=\"text-xs text-red-700 mt-1\">Audio Level: {Math.round(audioLevel)}%</p>\n              </div>\n              \n              <p className=\"text-lg text-red-800 mb-6\">\n                Speak clearly into your microphone. Click \"Submit Answer\" when you're done.\n              </p>\n              \n              <button\n                onClick={handleSubmitAnswer}\n                className=\"px-8 py-4 bg-slate-700 hover:bg-slate-800 text-white text-lg font-semibold rounded-lg flex items-center gap-3 mx-auto transition-all hover:scale-105 shadow-lg\"\n              >\n                <Send className=\"h-6 w-6\" />\n                Submit Answer\n              </button>\n            </div>\n          )}\n\n          {/* Waiting State */}\n          {!isSpeaking && !isThinking && !isRecording && (\n            <div className=\"bg-blue-50 border-2 border-blue-200 rounded-xl p-8 text-center\">\n              <Clock className=\"h-12 w-12 text-blue-600 mx-auto mb-4 animate-pulse\" />\n              <p className=\"text-lg text-blue-800\">\n                Please wait while the question is being read...\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Camera Feed (Small corner) */}\n      <div className=\"fixed bottom-6 right-6 w-48 h-36 bg-slate-900 rounded-lg overflow-hidden shadow-2xl border-2 border-amber-300\">\n        <video\n          ref={(el) => {\n            if (el && cameraStream) {\n              el.srcObject = cameraStream;\n            }\n          }}\n          autoPlay\n          playsInline\n          muted\n          className=\"w-full h-full object-cover\"\n        />\n        <div className=\"absolute top-2 left-2 px-2 py-1 bg-black/50 rounded text-white text-xs\">\n          You\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AudioInterviewPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Send,Bot,Loader2,AlertCircle}from'lucide-react';import{sendMessage}from'../services/api';import useWebSocket from'../hooks/useWebSocket';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatInterface=_ref=>{let{sessionId,firstQuestion}=_ref;const[currentQuestion,setCurrentQuestion]=useState('');const[inputMessage,setInputMessage]=useState('');const[isSending,setIsSending]=useState(false);const[isTyping,setIsTyping]=useState(false);const[error,setError]=useState(null);const messagesEndRef=useRef(null);const{isConnected,messages:wsMessages,sendAnswer,error:wsError}=useWebSocket(sessionId);// Initialize with first question if provided\nuseEffect(()=>{if(firstQuestion&&!currentQuestion){setCurrentQuestion(firstQuestion);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[firstQuestion]);// Scroll to bottom when new messages arrive\nconst scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[currentQuestion]);// Handle WebSocket messages\nuseEffect(()=>{if(wsMessages.length>0){const lastMessage=wsMessages[wsMessages.length-1];if(lastMessage.type==='question'){// Check if data exists and has a question\nconst questionData=lastMessage.data;if(questionData&&questionData.question){setCurrentQuestion(questionData.question);}else if(questionData===null){// Interview completed - no more questions\nsetCurrentQuestion('Thank you! The interview has been completed. You can now view your evaluation results.');}else{console.warn('Question data missing:',lastMessage);}setIsTyping(false);setIsSending(false);}else if(lastMessage.type==='evaluation'){// Evaluation received - just log it\nconsole.log('Evaluation received:',lastMessage.data);setIsSending(false);}else if(lastMessage.type==='typing'){setIsTyping(true);}else if(lastMessage.type==='error'){setError(lastMessage.message);setIsTyping(false);setIsSending(false);}else if(lastMessage.type==='pong'){// Heartbeat response - ignore\n}}},[wsMessages]);// Handle sending message\nconst handleSendMessage=async()=>{if(!inputMessage.trim()||isSending)return;const userAnswer=inputMessage.trim();// Clear input immediately\nsetInputMessage('');setIsSending(true);setError(null);setIsTyping(true);try{if(isConnected){// Use WebSocket for real-time communication\nsendAnswer(userAnswer);}else{// Fallback to HTTP API\nconst response=await sendMessage(sessionId,userAnswer);if(response.success){// Add evaluation if present\nif(response.evaluation){console.log('Evaluation:',response.evaluation);}// Update to next question\nif(response.next_question){setCurrentQuestion(response.next_question.question);}}setIsSending(false);setIsTyping(false);}}catch(err){setError(err.message||'Failed to send message');setIsSending(false);setIsTyping(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:\"Interview Response\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2 w-2 rounded-full \".concat(isConnected?'bg-green-500':'bg-red-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:isConnected?'Connected':'Offline'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-4\",children:[!currentQuestion&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 dark:text-gray-400 py-8\",children:[/*#__PURE__*/_jsx(Bot,{className:\"h-12 w-12 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Waiting for the interview to begin...\"})]}),currentQuestion&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 max-w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center bg-gray-200 dark:bg-gray-700\",children:/*#__PURE__*/_jsx(Bot,{className:\"h-5 w-5 text-gray-600 dark:text-gray-300\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg px-6 py-4 bg-amber-50 dark:bg-gray-700 text-gray-900 dark:text-white flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium mb-2 text-amber-900 dark:text-amber-300\",children:\"Current Question:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-base whitespace-pre-wrap\",children:currentQuestion})]})]})}),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Bot,{className:\"h-5 w-5 text-gray-600 dark:text-gray-300\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0ms'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'150ms'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'300ms'}})]})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),(error||wsError)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mx-6 mb-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 text-red-600 dark:text-red-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800 dark:text-red-200\",children:error||wsError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Type your answer here...\",className:\"input-field resize-none\",rows:\"2\",disabled:isSending}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputMessage.trim()||isSending,className:\"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 px-6\",children:isSending?/*#__PURE__*/_jsx(Loader2,{className:\"h-5 w-5 animate-spin\"}):/*#__PURE__*/_jsx(Send,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-2\",children:\"Press Enter to send, Shift+Enter for new line\"})]})]});};export default ChatInterface;","map":{"version":3,"names":["React","useState","useEffect","useRef","Send","Bot","Loader2","AlertCircle","sendMessage","useWebSocket","jsx","_jsx","jsxs","_jsxs","ChatInterface","_ref","sessionId","firstQuestion","currentQuestion","setCurrentQuestion","inputMessage","setInputMessage","isSending","setIsSending","isTyping","setIsTyping","error","setError","messagesEndRef","isConnected","messages","wsMessages","sendAnswer","wsError","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","length","lastMessage","type","questionData","data","question","console","warn","log","message","handleSendMessage","trim","userAnswer","response","success","evaluation","next_question","err","handleKeyPress","e","key","shiftKey","preventDefault","className","children","concat","style","animationDelay","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled","onClick"],"sources":["/Users/pruthanj/d/frontend/src/components/ChatInterface.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Send, Bot, Loader2, AlertCircle } from 'lucide-react';\nimport { sendMessage } from '../services/api';\nimport useWebSocket from '../hooks/useWebSocket';\n\nconst ChatInterface = ({ sessionId, firstQuestion }) => {\n  const [currentQuestion, setCurrentQuestion] = useState('');\n  const [inputMessage, setInputMessage] = useState('');\n  const [isSending, setIsSending] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  \n  const { isConnected, messages: wsMessages, sendAnswer, error: wsError } = useWebSocket(sessionId);\n\n  // Initialize with first question if provided\n  useEffect(() => {\n    if (firstQuestion && !currentQuestion) {\n      setCurrentQuestion(firstQuestion);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [firstQuestion]);\n\n  // Scroll to bottom when new messages arrive\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [currentQuestion]);\n\n  // Handle WebSocket messages\n  useEffect(() => {\n    if (wsMessages.length > 0) {\n      const lastMessage = wsMessages[wsMessages.length - 1];\n      \n      if (lastMessage.type === 'question') {\n        // Check if data exists and has a question\n        const questionData = lastMessage.data;\n        if (questionData && questionData.question) {\n          setCurrentQuestion(questionData.question);\n        } else if (questionData === null) {\n          // Interview completed - no more questions\n          setCurrentQuestion('Thank you! The interview has been completed. You can now view your evaluation results.');\n        } else {\n          console.warn('Question data missing:', lastMessage);\n        }\n        setIsTyping(false);\n        setIsSending(false);\n      } else if (lastMessage.type === 'evaluation') {\n        // Evaluation received - just log it\n        console.log('Evaluation received:', lastMessage.data);\n        setIsSending(false);\n      } else if (lastMessage.type === 'typing') {\n        setIsTyping(true);\n      } else if (lastMessage.type === 'error') {\n        setError(lastMessage.message);\n        setIsTyping(false);\n        setIsSending(false);\n      } else if (lastMessage.type === 'pong') {\n        // Heartbeat response - ignore\n      }\n    }\n  }, [wsMessages]);\n\n  // Handle sending message\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isSending) return;\n\n    const userAnswer = inputMessage.trim();\n    \n    // Clear input immediately\n    setInputMessage('');\n    setIsSending(true);\n    setError(null);\n    setIsTyping(true);\n\n    try {\n      if (isConnected) {\n        // Use WebSocket for real-time communication\n        sendAnswer(userAnswer);\n      } else {\n        // Fallback to HTTP API\n        const response = await sendMessage(sessionId, userAnswer);\n        \n        if (response.success) {\n          // Add evaluation if present\n          if (response.evaluation) {\n            console.log('Evaluation:', response.evaluation);\n          }\n          \n          // Update to next question\n          if (response.next_question) {\n            setCurrentQuestion(response.next_question.question);\n          }\n        }\n        setIsSending(false);\n        setIsTyping(false);\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to send message');\n      setIsSending(false);\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg\">\n      {/* Header */}\n      <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n            Interview Response\n          </h2>\n          <div className=\"flex items-center gap-2\">\n            <div className={`h-2 w-2 rounded-full ${isConnected ? 'bg-green-500' : 'bg-red-500'}`} />\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n              {isConnected ? 'Connected' : 'Offline'}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Messages Container */}\n      <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n        {!currentQuestion && (\n          <div className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\n            <Bot className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n            <p>Waiting for the interview to begin...</p>\n          </div>\n        )}\n\n        {currentQuestion && (\n          <div className=\"flex justify-start\">\n            <div className=\"flex gap-3 max-w-full\">\n              {/* Avatar */}\n              <div className=\"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center bg-gray-200 dark:bg-gray-700\">\n                <Bot className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\n              </div>\n\n              {/* Question Display */}\n              <div className=\"rounded-lg px-6 py-4 bg-amber-50 dark:bg-gray-700 text-gray-900 dark:text-white flex-1\">\n                <p className=\"text-lg font-medium mb-2 text-amber-900 dark:text-amber-300\">Current Question:</p>\n                <p className=\"text-base whitespace-pre-wrap\">{currentQuestion}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Typing Indicator */}\n        {isTyping && (\n          <div className=\"flex justify-start\">\n            <div className=\"flex gap-3\">\n              <div className=\"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center\">\n                <Bot className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\n              </div>\n              <div className=\"bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-2\">\n                <div className=\"flex gap-1\">\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }}></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }}></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }}></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Error Message */}\n      {(error || wsError) && (\n        <div className=\"mx-6 mb-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2\">\n          <AlertCircle className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n          <p className=\"text-sm text-red-800 dark:text-red-200\">{error || wsError}</p>\n        </div>\n      )}\n\n      {/* Input Area */}\n      <div className=\"px-6 py-4 border-t border-gray-200 dark:border-gray-700\">\n        <div className=\"flex gap-3\">\n          <textarea\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Type your answer here...\"\n            className=\"input-field resize-none\"\n            rows=\"2\"\n            disabled={isSending}\n          />\n          <button\n            onClick={handleSendMessage}\n            disabled={!inputMessage.trim() || isSending}\n            className=\"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 px-6\"\n          >\n            {isSending ? (\n              <Loader2 className=\"h-5 w-5 animate-spin\" />\n            ) : (\n              <Send className=\"h-5 w-5\" />\n            )}\n          </button>\n        </div>\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n          Press Enter to send, Shift+Enter for new line\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
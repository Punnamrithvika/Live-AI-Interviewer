{"ast":null,"code":"import axios from 'axios';\n\n// Use explicit API base including /api so endpoint paths below don't repeat it\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:8000/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor for logging\napi.interceptors.request.use(config => {\n  console.log(`API Request: ${config.method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response) {\n    // Server responded with error\n    console.error('API Error:', error.response.data);\n    throw new Error(error.response.data.detail || 'Server error occurred');\n  } else if (error.request) {\n    // Request made but no response\n    console.error('Network Error:', error.message);\n    throw new Error('Network error - please check your connection');\n  } else {\n    console.error('Error:', error.message);\n    throw error;\n  }\n});\n\n// ==================== API METHODS ====================\n\n/**\n * Upload resume file\n * @param {File} file - Resume file (PDF, DOCX, TXT)\n * @returns {Promise} Processed resume data\n */\nexport const uploadResume = async file => {\n  const formData = new FormData();\n  formData.append('file', file);\n  const response = await api.post('/upload-resume', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return response.data;\n};\n\n/**\n * Start new interview session\n * @param {Object} params - Interview parameters\n * @param {string} params.candidate_name - Candidate name\n * @param {string} params.job_title - Job title\n * @param {Array<string>} params.recruiter_skills - Skills to evaluate\n * @param {Object} params.target_skill_difficulties - Difficulty levels per skill\n * @param {string} params.resume_text - Optional resume text\n * @returns {Promise} Session ID and first question\n */\nexport const startInterview = async params => {\n  const response = await api.post('/start-interview', params);\n  return response.data;\n};\n\n/**\n * Send candidate message/answer\n * @param {string} sessionId - Session ID\n * @param {string} message - Candidate's answer\n * @returns {Promise} Evaluation and next question\n */\nexport const sendMessage = async (sessionId, message) => {\n  const response = await api.post('/send-message', {\n    session_id: sessionId,\n    message: message\n  });\n  return response.data;\n};\n\n/**\n * Get interview session status\n * @param {string} sessionId - Session ID\n * @returns {Promise} Current session status\n */\nexport const getInterviewStatus = async sessionId => {\n  const response = await api.get(`/interview-status/${sessionId}`);\n  return response.data;\n};\n\n/**\n * Evaluate candidate response\n * @param {string} sessionId - Session ID\n * @param {string} answer - Candidate's answer\n * @returns {Promise} Evaluation result\n */\nexport const evaluateResponse = async (sessionId, answer) => {\n  const response = await api.post('/evaluate-response', {\n    session_id: sessionId,\n    answer: answer\n  });\n  return response.data;\n};\n\n/**\n * End interview session\n * @param {string} sessionId - Session ID\n * @returns {Promise} Final summary with detailed results\n */\nexport const endInterview = async sessionId => {\n  const response = await api.delete(`/end-interview/${sessionId}`);\n  return response.data;\n};\n\n/**\n * Get detailed interview results\n * @param {string} sessionId - Session ID\n * @returns {Promise} Comprehensive evaluation data\n */\nexport const getInterviewResults = async sessionId => {\n  const response = await api.get(`/interview-results/${sessionId}`);\n  return response.data;\n};\n\n/**\n * Download interview report PDF\n * @param {string} sessionId - Session ID\n * @returns {Promise} PDF blob\n */\nexport const downloadReport = async sessionId => {\n  const response = await api.get(`/download-report/${sessionId}`, {\n    responseType: 'blob'\n  });\n  return response.data;\n};\n\n/**\n * Get system status\n * @returns {Promise} System status\n */\nexport const getSystemStatus = async () => {\n  const response = await api.get('/system/status');\n  return response.data;\n};\n\n/**\n * Health check\n * @returns {Promise} Service status\n */\nexport const healthCheck = async () => {\n  // With API base including /api, check the explicit status endpoint\n  const response = await api.get('/system/status');\n  return response.data;\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","headers","interceptors","request","use","config","console","log","method","toUpperCase","url","error","Promise","reject","response","data","Error","detail","message","uploadResume","file","formData","FormData","append","post","startInterview","params","sendMessage","sessionId","session_id","getInterviewStatus","get","evaluateResponse","answer","endInterview","delete","getInterviewResults","downloadReport","responseType","getSystemStatus","healthCheck"],"sources":["C:/Users/rithv/OneDrive/Desktop/mp_interviewer/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Use explicit API base including /api so endpoint paths below don't repeat it\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:8000/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor for logging\napi.interceptors.request.use(\n  (config) => {\n    console.log(`API Request: ${config.method.toUpperCase()} ${config.url}`);\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response) {\n      // Server responded with error\n      console.error('API Error:', error.response.data);\n      throw new Error(error.response.data.detail || 'Server error occurred');\n    } else if (error.request) {\n      // Request made but no response\n      console.error('Network Error:', error.message);\n      throw new Error('Network error - please check your connection');\n    } else {\n      console.error('Error:', error.message);\n      throw error;\n    }\n  }\n);\n\n// ==================== API METHODS ====================\n\n/**\n * Upload resume file\n * @param {File} file - Resume file (PDF, DOCX, TXT)\n * @returns {Promise} Processed resume data\n */\nexport const uploadResume = async (file) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  \n  const response = await api.post('/upload-resume', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n  \n  return response.data;\n};\n\n/**\n * Start new interview session\n * @param {Object} params - Interview parameters\n * @param {string} params.candidate_name - Candidate name\n * @param {string} params.job_title - Job title\n * @param {Array<string>} params.recruiter_skills - Skills to evaluate\n * @param {Object} params.target_skill_difficulties - Difficulty levels per skill\n * @param {string} params.resume_text - Optional resume text\n * @returns {Promise} Session ID and first question\n */\nexport const startInterview = async (params) => {\n  const response = await api.post('/start-interview', params);\n  return response.data;\n};\n\n/**\n * Send candidate message/answer\n * @param {string} sessionId - Session ID\n * @param {string} message - Candidate's answer\n * @returns {Promise} Evaluation and next question\n */\nexport const sendMessage = async (sessionId, message) => {\n  const response = await api.post('/send-message', {\n    session_id: sessionId,\n    message: message,\n  });\n  return response.data;\n};\n\n/**\n * Get interview session status\n * @param {string} sessionId - Session ID\n * @returns {Promise} Current session status\n */\nexport const getInterviewStatus = async (sessionId) => {\n  const response = await api.get(`/interview-status/${sessionId}`);\n  return response.data;\n};\n\n/**\n * Evaluate candidate response\n * @param {string} sessionId - Session ID\n * @param {string} answer - Candidate's answer\n * @returns {Promise} Evaluation result\n */\nexport const evaluateResponse = async (sessionId, answer) => {\n  const response = await api.post('/evaluate-response', {\n    session_id: sessionId,\n    answer: answer,\n  });\n  return response.data;\n};\n\n/**\n * End interview session\n * @param {string} sessionId - Session ID\n * @returns {Promise} Final summary with detailed results\n */\nexport const endInterview = async (sessionId) => {\n  const response = await api.delete(`/end-interview/${sessionId}`);\n  return response.data;\n};\n\n/**\n * Get detailed interview results\n * @param {string} sessionId - Session ID\n * @returns {Promise} Comprehensive evaluation data\n */\nexport const getInterviewResults = async (sessionId) => {\n  const response = await api.get(`/interview-results/${sessionId}`);\n  return response.data;\n};\n\n/**\n * Download interview report PDF\n * @param {string} sessionId - Session ID\n * @returns {Promise} PDF blob\n */\nexport const downloadReport = async (sessionId) => {\n  const response = await api.get(`/download-report/${sessionId}`, {\n    responseType: 'blob'\n  });\n  return response.data;\n};\n\n/**\n * Get system status\n * @returns {Promise} System status\n */\nexport const getSystemStatus = async () => {\n  const response = await api.get('/system/status');\n  return response.data;\n};\n\n/**\n * Health check\n * @returns {Promise} Service status\n */\nexport const healthCheck = async () => {\n  // With API base including /api, check the explicit status endpoint\n  const response = await api.get('/system/status');\n  return response.data;\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Target,CheckCircle,XCircle,Activity}from'lucide-react';import{getInterviewStatus}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{var _status$session_id;let{sessionId}=_ref;const[status,setStatus]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(!sessionId)return;const fetchStatus=async()=>{try{setLoading(true);const response=await getInterviewStatus(sessionId);if(response.success){setStatus(response.status);}}catch(err){setError(err.message);}finally{setLoading(false);}};fetchStatus();// Refresh status every 10 seconds\nconst interval=setInterval(fetchStatus,10000);return()=>clearInterval(interval);},[sessionId]);if(loading&&!status){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-red-600 dark:text-red-400\",children:[/*#__PURE__*/_jsx(XCircle,{className:\"h-12 w-12 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})});}if(!status){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 dark:text-gray-400\",children:\"No interview data available\"})});}const skillsArray=Object.entries(status.skills_summary||{});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:\"Interview Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"Session ID: \",(_status$session_id=status.session_id)===null||_status$session_id===void 0?void 0:_status$session_id.substring(0,8),\"...\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(status.current_phase==='completed'?'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400':'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'),children:status.current_phase})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-5 w-5\"}),\"Skills Evaluation\"]}),skillsArray.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 text-sm\",children:\"No skills evaluated yet\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:skillsArray.map(_ref2=>{var _skillData$percentage;let[skillName,skillData]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 dark:border-gray-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 dark:text-white\",children:skillName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[skillData.questions_asked,\" questions asked\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[skillData.target_reached?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-green-600 dark:text-green-400\"}):/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 text-blue-600 dark:text-blue-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-gray-900 dark:text-white\",children:[(_skillData$percentage=skillData.percentage_score)===null||_skillData$percentage===void 0?void 0:_skillData$percentage.toFixed(1),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 \".concat(skillData.percentage_score>=80?'bg-green-600':skillData.percentage_score>=50?'bg-yellow-600':'bg-red-600'),style:{width:\"\".concat(Math.min(skillData.percentage_score||0,100),\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded \".concat(skillData.status==='completed'?'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400':skillData.status==='in_progress'?'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400':'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400'),children:skillData.status}),skillData.target_reached&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 text-green-600 dark:text-green-400\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-3 w-3\"}),\"Target Reached\"]})]})]},skillName);})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Target","CheckCircle","XCircle","Activity","getInterviewStatus","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","_status$session_id","sessionId","status","setStatus","loading","setLoading","error","setError","fetchStatus","response","success","err","message","interval","setInterval","clearInterval","className","children","skillsArray","Object","entries","skills_summary","session_id","substring","concat","current_phase","length","map","_ref2","_skillData$percentage","skillName","skillData","questions_asked","target_reached","percentage_score","toFixed","style","width","Math","min"],"sources":["C:/Users/rithv/OneDrive/Desktop/mp_interviewer/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Target, \n  CheckCircle, \n  XCircle,\n  Activity\n} from 'lucide-react';\nimport { getInterviewStatus } from '../services/api';\n\nconst Dashboard = ({ sessionId }) => {\n  const [status, setStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!sessionId) return;\n\n    const fetchStatus = async () => {\n      try {\n        setLoading(true);\n        const response = await getInterviewStatus(sessionId);\n        \n        if (response.success) {\n          setStatus(response.status);\n        }\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStatus();\n    \n    // Refresh status every 10 seconds\n    const interval = setInterval(fetchStatus, 10000);\n    \n    return () => clearInterval(interval);\n  }, [sessionId]);\n\n  if (loading && !status) {\n    return (\n      <div className=\"card\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3\"></div>\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"card\">\n        <div className=\"text-center text-red-600 dark:text-red-400\">\n          <XCircle className=\"h-12 w-12 mx-auto mb-4\" />\n          <p>{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!status) {\n    return (\n      <div className=\"card\">\n        <p className=\"text-center text-gray-500 dark:text-gray-400\">\n          No interview data available\n        </p>\n      </div>\n    );\n  }\n\n  const skillsArray = Object.entries(status.skills_summary || {});\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Card */}\n      <div className=\"card\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"space-y-1\">\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              Interview Dashboard\n            </h2>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              Session ID: {status.session_id?.substring(0, 8)}...\n            </p>\n          </div>\n          <div className={`px-3 py-1 rounded-full text-sm font-medium ${\n            status.current_phase === 'completed'\n              ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\n              : 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'\n          }`}>\n            {status.current_phase}\n          </div>\n        </div>\n      </div>\n\n      {/* Skills Evaluation */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <Target className=\"h-5 w-5\" />\n          Skills Evaluation\n        </h3>\n        \n        {skillsArray.length === 0 ? (\n          <p className=\"text-gray-500 dark:text-gray-400 text-sm\">\n            No skills evaluated yet\n          </p>\n        ) : (\n          <div className=\"space-y-3\">\n            {skillsArray.map(([skillName, skillData]) => (\n              <div key={skillName} className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4\">\n                <div className=\"flex items-start justify-between mb-2\">\n                  <div>\n                    <h4 className=\"font-medium text-gray-900 dark:text-white\">\n                      {skillName}\n                    </h4>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {skillData.questions_asked} questions asked\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {skillData.target_reached ? (\n                      <CheckCircle className=\"h-5 w-5 text-green-600 dark:text-green-400\" />\n                    ) : (\n                      <Activity className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n                    )}\n                    <span className=\"text-lg font-bold text-gray-900 dark:text-white\">\n                      {skillData.percentage_score?.toFixed(1)}%\n                    </span>\n                  </div>\n                </div>\n                \n                {/* Progress Bar */}\n                <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                  <div\n                    className={`h-2 rounded-full transition-all duration-300 ${\n                      skillData.percentage_score >= 80\n                        ? 'bg-green-600'\n                        : skillData.percentage_score >= 50\n                        ? 'bg-yellow-600'\n                        : 'bg-red-600'\n                    }`}\n                    style={{ width: `${Math.min(skillData.percentage_score || 0, 100)}%` }}\n                  />\n                </div>\n                \n                <div className=\"mt-2 flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400\">\n                  <span className={`px-2 py-1 rounded ${\n                    skillData.status === 'completed'\n                      ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\n                      : skillData.status === 'in_progress'\n                      ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'\n                      : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400'\n                  }`}>\n                    {skillData.status}\n                  </span>\n                  {skillData.target_reached && (\n                    <span className=\"flex items-center gap-1 text-green-600 dark:text-green-400\">\n                      <CheckCircle className=\"h-3 w-3\" />\n                      Target Reached\n                    </span>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}